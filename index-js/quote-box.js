/* quotes-app.js
   همهٔ داده‌ها و منطق در یک فایل؛ بدون fetch؛ کار با file:// هم ممکن است.
*/

const DATA = {
  "quotes": [
    { "text": "عشق، تنها آزادی‌ای است که از هر بند و قیدی رهاست.", "author": "فریدریش نیچه" },
    { "text": "عشق، نوری است که تاریکی‌های روح را می‌شکند.", "author": "افلاطون" },
    { "text": "آنچه از عشق می‌فهمیم، تنها سایه‌ای از حقیقت آن است.", "author": "سقراط" },
    { "text": "عشق، معماری روح است؛ چیزی که از ما انسانی دیگر می‌سازد.", "author": "لائوتسه" },
    { "text": "عشق، بزرگ‌ترین شکل شجاعت است؛ زیرا دل را بی‌دفاع می‌کند.", "author": "آلبر کامو" },
    { "text": "آنجا که عشق هست، زندگی هست.", "author": "مهاتما گاندی" },
    { "text": "عشق، تنها پاسخ به معنای زندگی است.", "author": "اریش فروم" },
    { "text": "عشق، کوتاه است اما فراموشی آن بسیار طولانی.", "author": "پابلو نرودا" },
    { "text": "عشق، هنر دیدن زیبایی‌هایی است که دیگران نمی‌بینند.", "author": "جبران خلیل جبران" },
    { "text": "زندگی آن چیزی نیست که تجربه می‌کنیم؛ بلکه چیزی است که درون ما می‌گذرد.", "author": "آلبر کامو" },
    { "text": "زندگی، حاصل انتخاب‌هایی است که جرئت انجامشان را داریم.", "author": "پائولو کوئلیو" },
    { "text": "زندگی، زمانی آغاز می‌شود که ترس را کنار بگذاری.", "author": "اُشو" },
    { "text": "زندگی، هنر نقاشی کردن بدون پاک‌کن است.", "author": "جان گاردنر" },
    { "text": "زندگی، آن‌قدر کوتاه است که فقط باید عاشق بود.", "author": "فردریش نیچه" },
    { "text": "زندگی، یافتن خود نیست؛ ساختن خود است.", "author": "جورج برنارد شاو" },
    { "text": "زندگی، زمانی معنا پیدا می‌کند که چیزی بزرگ‌تر از خودت را دوست داشته باشی.", "author": "ویکتور فرانکل" },
    { "text": "زندگی، یک سؤال است و ما پاسخ آن هستیم.", "author": "رومی" },
    { "text": "عشق تو نه آغاز دارد و نه پایان؛ من در میانهٔ بی‌زمانی‌ات گم شده‌ام.", "author": "مولانا" },
    { "text": "هر کسی از ظن خود شد یار من؛ از درون من نجست اسرار من.", "author": "مولانا" },
    { "text": "عشق آمد و شد چو خونم اندر رگ و پوست؛ تا کرد مرا تهی و پر کرد ز دوست.", "author": "مولانا" },
    { "text": "من نه آنم که زبونی کشم از چرخ فلک؛ چرخ بر هم زنم ار غیر مرادم گردد.", "author": "حافظ" },
    { "text": "در ازل پرتو حسنت ز تجلی دم زد؛ عشق پیدا شد و آتش به همه عالم زد.", "author": "حافظ" },
    { "text": "عشق را پایان نیست؛ هرچه پیش‌تر روی، راه تازه‌تر شود.", "author": "سعدی" },
    { "text": "عشق، نه گفتن است و نه شنیدن؛ عشق، دیدن است.", "author": "سعدی" },
    { "text": "به جهان خرم از آنم که جهان خرم از اوست؛ عاشقم بر همه عالم که همه عالم از اوست.", "author": "فردوسی" },
    { "text": "دل به عشق تو سپردم که تویی جان جهان؛ جان فدای تو کنم گر به جهانم بگذاری.", "author": "فردوسی" },
    { "text": "عشق، آتشی است که اگر در دل افتد، جهان را به نور بدل کند.", "author": "خیام" },
    { "text": "می‌ نوش که عمر جاودانی این است؛ خود حاصلت از دور جوانی این است.", "author": "خیام" },
    { "text": "عشق، راهی است که پایان ندارد؛ هر قدمش آغازی دوباره است.", "author": "باباطاهر" },
    { "text": "تو را من چشم در راهم شباهنگام.", "author": "نیما یوشیج" },
    { "text": "عشق، صدای پای خداست که می‌آید.", "author": "سهراب سپهری" },
    { "text": "چشم‌ها را باید شست، جور دیگر باید دید.", "author": "سهراب سپهری" },
    { "text": "در زندگی زخم‌هایی هست که مثل خوره روح را آهسته در انزوا می‌خورد.", "author": "صادق هدایت" },
    { "text": "عشق، دردی است که درمان ندارد و اگر درمان یابد، دیگر عشق نیست.", "author": "صادق هدایت" },
    { "text": "آدم‌ها را از روی حرف‌هایشان نمی‌شناسم؛ از روی سکوتشان می‌شناسم.", "author": "صادق هدایت" },
    { "text": "من از تو می‌نویسم، ای تمام لحظه‌های خوبِ بودن.", "author": "فروغ فرخزاد" },
    { "text": "تنها صداست که می‌ماند.", "author": "فروغ فرخزاد" },
    { "text": "عشق، زنی‌ست که در آینه به خودش لبخند می‌زند.", "author": "فروغ فرخزاد" }
  ]
};

function getRandom(arr) {
  return arr[Math.floor(Math.random() * arr.length)];
}

document.addEventListener("DOMContentLoaded", () => {
  const btn = document.getElementById("quote-btn");
  const textEl = document.getElementById("quote-text");
  const authorEl = document.getElementById("quote-author");

  if (!btn || !textEl || !authorEl) {
    console.error("عنصرهای #quote-btn یا #quote-text یا #quote-author پیدا نشدند.");
    return;
  }

  btn.addEventListener("click", () => {
    const random = getRandom(DATA.quotes || []);
    if (!random) {
      textEl.textContent = "جمله‌ای موجود نیست.";
      authorEl.textContent = "";
      return;
    }

    // انیمیشن ساده fade
    textEl.style.transition = "opacity .22s";
    authorEl.style.transition = "opacity .22s";
    textEl.style.opacity = 0;
    authorEl.style.opacity = 0;

    setTimeout(() => {
      textEl.textContent = random.text;
      authorEl.textContent = random.author ? "— " + random.author : "";
      textEl.style.opacity = 1;
      authorEl.style.opacity = 1;
    }, 180);
  });
});
